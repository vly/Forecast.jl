<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Forecast · Forecast.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="Forecast.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Forecast.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Forecast</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Forecast</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Forecast</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/viraltux/Forecast.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Forecast"><a class="docs-heading-anchor" href="#Forecast">Forecast</a><a id="Forecast-1"></a><a class="docs-heading-anchor-permalink" href="#Forecast" title="Permalink"></a></h1><ul><li><a href="#Forecast.Forecast"><code>Forecast.Forecast</code></a></li><li><a href="#Forecast.acf-Tuple{TimeSeries.TimeArray}"><code>Forecast.acf</code></a></li><li><a href="#Forecast.ccf-Tuple{TimeSeries.TimeArray,TimeSeries.TimeArray}"><code>Forecast.ccf</code></a></li><li><a href="#Forecast.co2"><code>Forecast.co2</code></a></li><li><a href="#Forecast.d"><code>Forecast.d</code></a></li><li><a href="#Forecast.loess-Tuple{Any,Any}"><code>Forecast.loess</code></a></li><li><a href="#Forecast.nextodd-Tuple{Real}"><code>Forecast.nextodd</code></a></li><li><a href="#Forecast.sma-Tuple{Any,Any}"><code>Forecast.sma</code></a></li><li><a href="#Forecast.stl-Tuple{TimeSeries.TimeArray,Integer}"><code>Forecast.stl</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="Forecast.Forecast" href="#Forecast.Forecast"><code>Forecast.Forecast</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Collection of methods for Time Series analysis</p><p>Methods implemented:</p><pre><code class="language-none">acf:        Auto-correlation or auto-covariance of a univariate serie. 
ccf:        Cross-correlation or cros-covariance of two univariate series.
d:          Lagged differences of a given order for Vector, Array and TimeSeries.
loess:      Locally weighted smoothed series.
sma:        Simple moving average.
stl:        Seasonal and Trend decomposition using loess.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/Forecast.jl#L32-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.acf-Tuple{TimeSeries.TimeArray}" href="#Forecast.acf-Tuple{TimeSeries.TimeArray}"><code>Forecast.acf</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Package: Forecast</p><p>function acf(x::{AbstractVector,TimeArray},              type = &quot;cor&quot;,              lag = Integer(ceil(10*log10(length(x1)))),              alpha = (0.95,0.99))</p><pre><code class="language-none">Compute the auto-correlation or auto-covariance for an univariate series.</code></pre><p>The results are normalized preserve homoscedasticity. The distribution used to normalize the data is an approximation of a Fisher Transformation via a Normal Distribution. There is a plot recipe for the returned object, if the type is <code>cor</code> the plot will also show confidence intervals for the given alpha values.</p><pre><code class="language-none">Args:
    `x`: Vector or uni-dimensional TimeArray of data.
    `type`: Valid values are &quot;cor&quot; for correlation (default) and &quot;cov&quot; for convariance.
    `lag`: Maximum number of lags.
    `alpha`: A tuple with two thresholds (t1,t2) with t1 &lt;= t2 to plot confidence intervals. The default values are 0.95 and 0.99.
Returns:
    Vector of auto-correlation or auto-covariance between two vectors 
    plus an optional plot with cofidence intervals</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; x = rand(100);
res = acf(x1; type=&quot;cor&quot;);
plot(res)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/acf.jl#L1-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.ccf-Tuple{TimeSeries.TimeArray,TimeSeries.TimeArray}" href="#Forecast.ccf-Tuple{TimeSeries.TimeArray,TimeSeries.TimeArray}"><code>Forecast.ccf</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Package: Forecast</p><p>function ccf(x1::{AbstractVector,TimeArray},              x2::{AbstractVector,TimeArray};              type = &quot;cor&quot;,              lag = Integer(ceil(10*log10(length(x1)))),              alpha = (0.95,0.99))</p><p>Compute the cross-correlation or cros-covariance of two univariate series.</p><p>The results are normalized preserve homoscedasticity. The distribution used to normalize the data is an approximation of a Fisher Transformation via a Normal Distribution. There is a plot recipe for the returned object, if the type is <code>cor</code> the plot will also show confidence intervals for the given alpha values.</p><p>If, for a given integer <code>k</code>, <code>x2</code> repeats <code>x1</code> values such that x1[t] = x2[t+k] for all <code>i</code> then high correlation value will be placed <em>at the right from the center</em> in the results. That is, this convention will be represented in the plots as <code>x1_t = x2_{t+k} -&gt; _____0__k__</code> meaning x2 behavior can be predicted by x1 in k units.</p><pre><code class="language-none">Args:
    `x1`: Vector or uni-dimensional TimeArray of data.
    `x2`: Vector or uni-dimensional TimeArray of data.
    `type`: Valid values are &quot;cor&quot; for correlation (default) and &quot;cov&quot; for convariance.
    `lag`: Maximum number of lags.
    `alpha`: A tuple with two thresholds (t1,t2) with t1 &lt;= t2 to plot confidence intervals. The default values are 0.95 and 0.99.
Returns:
    Vector of cross-correlation or cross-covariance between two vectors 
    plus an optional plot with cofidence intervals</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; x1 = rand(100);
x2 = circshift(x1,6);
res = ccf(x1, x2; type=&quot;cor&quot;);
plot(res)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/ccf.jl#L12-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.co2" href="#Forecast.co2"><code>Forecast.co2</code></a> — <span class="docstring-category">Function</span></header><section><div><p>co2(full = false)</p><p>Return dataset with atmospheric Carbon Dioxide Dry Air Mole Fractions from quasi-continuous measurements at Mauna Loa, Hawaii.</p><p>K.W. Thoning, A.M. Crotwell, and J.W. Mund (2020), Atmospheric Carbon Dioxide Dry Air Mole Fractions from continuous measurements at Mauna Loa, Hawaii, Barrow, Alaska, American Samoa and South Pole. 1973-2019, Version 2020-08 National Oceanic and Atmospheric Administration (NOAA), Global Monitoring Laboratory (GML), Boulder, Colorado, USA https://doi.org/10.15138/yaf1-bk21 FTP path: ftp://aftp.cmdl.noaa.gov/data/greenhouse_gases/co2/in-situ/surface/</p><pre><code class="language-none">Args:
    `full`: if `true` Returns full original dataset from 1973 to 2020 in a DataFrame, otherwise returns the subset used in &quot;STL: A Seasonal-Trend Decomposition Procedure Based on Loess&quot; from Cleveland et. al.
Returns:
    Dataframe or TimeArray containing the descrived dataset.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; co2()
[ Info: Dataset used in Cleveland et al. paper
4609×1 TimeArray{Union{Missing, Float64},1,Date,Array{Union{Missing, Float64},1}} 1974-05-17 to 1986-12-31
│            │ co2     │
├────────────┼─────────┤
│ 1974-05-17 │ 333.38  │
│ 1974-05-18 │ 333.11  │
│ 1974-05-19 │ 333.46  │
   ⋮</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/datasets.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.d" href="#Forecast.d"><code>Forecast.d</code></a> — <span class="docstring-category">Function</span></header><section><div><p>function d(x::{AbstractVector,AbstractArray,TimeArray},            order::Int=1;            lag::Int=1,            center::Bool=true,            pad::Bool=true)</p><pre><code class="language-none">Return Lagged differences of a given order for Vector, Array and TimeSeries.

Args:
    `x`: Vector or Array of data.
    `order`: Order of the differences; number of recursive iterations
             on the same vector/array.
    `lag`: Lag for the difference.
    `center`: Center the result in the response using Missing values.
    `pad`: Includes or removes `missing` pad.
Returns:
    Lagged differences Vector or Array of a given order</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; x = [1,2,3,4,5];
julia&gt; d(x)
5-element Array{Any,1}:
 1
 1
 1
 1
  missing

julia&gt; d(x,2)
5-element Array{Any,1}:
  missing
 0
 0
 0
  missing

julia&gt; d(x;lag=2,pad=false)
3-element Array{Any,1}:
 2
 2
 2

julia&gt; x = reshape(collect(1:20),10,2)
10×2 Array{Int64,2}:
  1  11
  2  12
  3  13
  4  14
  5  15
  6  16
  7  17
  8  18
  9  19
 10  20 

julia&gt; d(x,2;lag=2,pad=false)
6×2 Array{Any,2}:
 0  0
 0  0
 0  0
 0  0
 0  0
 0  0

julia&gt; d(co2())
[ Info: Dataset used in Cleveland et al. paper
4609×1 TimeArray{Any,1,Date,Array{Any,1}} 1974-05-17 to 1986-12-31
│            │ A       │
├────────────┼─────────┤
│ 1974-05-17 │ -0.27   │
│ 1974-05-18 │ 0.35    │
│ 1974-05-19 │ 0.18    │
   ⋮
│ 1986-12-30 │ missing │
│ 1986-12-31 │ missing │
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/d.jl#L1-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.loess-Tuple{Any,Any}" href="#Forecast.loess-Tuple{Any,Any}"><code>Forecast.loess</code></a> — <span class="docstring-category">Method</span></header><section><div><p>function loess(xv,yv;                d=2,                q=Int64(round(3/4*length(xv))),                rho=repeat([1.0],inner=length(xv)),                  predict = xv)</p><p>Smooth a vector of observations using locally weighted regressions.</p><p>Although loess can be used to smooth observations for any given number of independent variables, this implementation is univariate. The speed of loess can be greatly increased by using fast aproximations for the linear fitting calculations, however this implementation calculates only exact results.</p><p>The loess functionality and nomenclature follows the descriptions in:</p><pre><code class="language-none">&quot;STL: A Seasonal, Trend Decomposition Procedure Based on Loess&quot;
 Robert B. Cleveland, William S. Cleveland, Jean E. McRae, and Irma Terpenning.
 Journal of Official Statistics Vol. 6. No. 1, 1990, pp. 3-73 (c) Statistics Sweden.

Args:
    `xv`: Observations&#39; support.
    `yv`: Observation values.
    `d`: Degree of the linear fit, it accepts values 1 or 2.
    `q`: As q increases loess becomes smoother, when q tends to infinity loess tends to an ordinary least square poynomial fit of degree `d`. It defaults to the rounding of 3/4 of xv&#39;s length.
    `rho`: Weights expressing the reliability of the observations (e.g. if yi had variances sigma^2*ki where ki where known, the rhoi could be 1/ki). It defaults to 1.0.
    `predict`: Vector containing the real values to be predicted, by default predicts xv.
Returns:
    The loess values for the values contained in `predict`.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; loess(rand(5),rand(5))
5-element Array{Float64,1}:
 0.8279856470091445
 0.6498793177642597
 0.017078421335739336
 0.8595786774014016
 0.2564676547690037</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/loess.jl#L31-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.nextodd-Tuple{Real}" href="#Forecast.nextodd-Tuple{Real}"><code>Forecast.nextodd</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">nextodd(x)</code></pre><p>Return the smallest odd integer greater than or equal to <code>x</code>.        </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.sma-Tuple{Any,Any}" href="#Forecast.sma-Tuple{Any,Any}"><code>Forecast.sma</code></a> — <span class="docstring-category">Method</span></header><section><div><p>sma(x, n; center = true)</p><p>Smooth a vector of data using a simple moving average.</p><pre><code class="language-none">Args:
    `x`: Vector of data.
    `n`: Size of the moving average.
    `center`: centers the moving averaged values in the response.
Returns:
    Vector of moving average smoothed values containing `missing` values to preserve the size of the original vector.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; sma(1:5,3;center=true)
5-element Array{Any,1}:
  missing
 2.0
 3.0
 4.0
  missing</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/sma.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Forecast.stl-Tuple{TimeSeries.TimeArray,Integer}" href="#Forecast.stl-Tuple{TimeSeries.TimeArray,Integer}"><code>Forecast.stl</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">stl(Yv, np; robust=false, 
            nl=nextodd(np), 
            ns=10*length(Yv)+1,
            nt=nextodd(1.5*np/(1-1.5/ns)), 
            ni=robust ? 1 : 2,
            no=0,
            spm=false,
            qsmp=max(div(np,7),2))</code></pre><p>Decompose a time series into trend, seasonal, and remainder components.</p><pre><code class="language-none">&quot;STL has a simple design that consists of a sequence of applications of the loess smoother; the simplicity allows analysis of the properties of the procedure and allows fast computation, even for very long time series and large amounts of trend and seasonal smoothing. Other features of STL  are specification of amounts of seasonal and trend smoothing that range, in a nearly continous way, from very small amount of smoothing to a very large amount; robust estimates of the trend and seasonal components that are not distorted by aberrant behavior in the data; specification of the period of the seasonal component to any intenger multiple of the time sampling interval greater than one; and the ability to decompose time series with missing values.&quot;</code></pre><p>Excerpt from &quot;STL: A Seasonal, Trend Decomposition Procedure Based on Loess&quot;               Robert B. Cleveland, William S. Cleveland, Jean E. McRae, and Irma Terpenning.               Journal of Official Statistics Vol. 6. No. 1, 1990, pp. 3-73 (c) Statistics Sweden.</p><p>All default values are chosen following the recommendations of the original paper when those were recommended. <code>ns</code> is recommended to be chosen of the basis of knowledge of the time series and on the basis of diagnostic methods; it must nonethelessbe  always odd and at least 7. A default value is not advised on the original paper, instead the same default value used in the stl implementation in R in usere here.</p><p>for <code>no</code> the authors advise 5 (&quot;safe value&quot;) or 10 (&quot;near certainty of convergence&quot;) cycles  or a convergence criterion when robustness is required, in this case when <code>robust</code> is true computations stop when convergence is achieved in trend and seasonality.</p><p>for <code>qsmp</code> the authors do not adivise a default but they use a value close to div(<code>np</code>,7).</p><pre><code class="language-none">Args:
    `np`: Seasonality.
    `robust`: Robust stl.
    `nl`: Smoothing parameter of the low-pass filter.
    `ns`: Smoothing parameter for the seasonal component.
    `nt`: Smoothing parameter for the trend decomposition.
    `ni`: Number of inner loop cycles.
    `no`: Number of outer loop cycles.
    `spm`: Seasonal post-smoothing.
    `qsmp`: Loess q window for Seasonal post-smoothing.
    `verbose`: If true shows updates for the Seasonal and Trend convergence.
    `cth`: Corvengence threshold for Seasonal and Trend.
Returns:
    An `stl` object with the seasonal, trend and remainder components if Yv is an Array and
    a TimeSeries object with the same components if Yv is a TimeSeries.</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; stl(co2(),365; robust=true, spm=true)
[ Info: Dataset used in Cleveland et al. paper
[ Info: Corvengence achieved (&lt; 0.01); Stopping computation...
STL{TimeSeries.TimeArray{Union{Missing, Float64},2,Dates.Date,Array{Union{Missing, Float64},2}}}(4609×3 TimeSeries.TimeArray{Union{Missing, Float64},2,Dates.Date,Array{Union{Missing, Float64},2}} 1974-05-17 to 1986-12-31, &quot;stl(Yn, np=365; nl=365, ns=46091, nt=549, ni=1, no=0, spm=true, qsmp=52)&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/viraltux/Forecast.jl/blob/293d50a0555c5313658957936e7cd2f1f85718ed/src/stl.jl#L6-L53">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 3 January 2021 09:25">Sunday 3 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
